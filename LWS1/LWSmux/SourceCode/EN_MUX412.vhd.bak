architecture Structural of mux4to1 is
    -- component declarations
    component EN_inv_1bit
        Port ( A : in STD_LOGIC; Y : out STD_LOGIC );
    end component;

    component EN_and_2inp
        Port ( A, B : in STD_LOGIC; Y : out STD_LOGIC );
    end component;

    component EN_or_2inp
        Port ( A, B : in STD_LOGIC; Y : out STD_LOGIC );
    end component;

    -- internal signals
    signal S0n, S1n : STD_LOGIC;    -- inverted selects
    signal and0, and1, and2s, and3 : STD_LOGIC;
    signal or01, or23 : STD_LOGIC;

begin
    -- invert select bits
    U1: inv1 port map (A => S(0), Y => S0n);
    U2: inv1 port map (A => S(1), Y => S1n);

    -- I0 term: ~S1 & ~S0 & I0
    U3a: and2 port map (A => S1n, B => S0n, Y => and0);
    U3b: and2 port map (A => and0, B => I0,  Y => and0);

    -- I1 term: ~S1 & S0 & I1
    U4a: and2 port map (A => S1n, B => S(0), Y => and1);
    U4b: and2 port map (A => and1, B => I1,  Y => and1);

    -- I2 term: S1 & ~S0 & I2
    U5a: and2 port map (A => S(1), B => S0n, Y => and2s);
    U5b: and2 port map (A => and2s, B => I2, Y => and2s);

    -- I3 term: S1 & S0 & I3
    U6a: and2 port map (A => S(1), B => S(0), Y => and3);
    U6b: and2 port map (A => and3, B => I3,   Y => and3);

    -- combine results with ORs
    U7: or2 port map (A => and0, B => and1, Y => or01);
    U8: or2 port map (A => and2s, B => and3, Y => or23);
    U9: or2 port map (A => or01, B => or23, Y => Y);

end Structural;